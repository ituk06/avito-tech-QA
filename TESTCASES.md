TC-01 Создание элемента

Предусловие: Имеется валидный URL сервера и корректные данные элемента (sellerID, name, price, statistics).

Шаги:

Отправить POST-запрос на /api/1/item с валидными данными элемента.

Ожидаемый результат: Сервер возвращает статус 200.



TC-02 Валидный ID в ответе на создание

Предусловие: Имеется валидный URL сервера и корректные данные элемента.

Шаги:

Отправить POST-запрос на /api/1/item.

Получить тело ответа.

Извлечь ID элемента из поля status в ответе.

Ожидаемый результат: ID успешно извлекается и не равен None.



TC-03 Получение созданного элемента по ID

Предусловие: Элемент успешно создан, его ID известен.

Шаги:

Отправить GET-запрос на /api/1/item/{id}

Ожидаемый результат: Сервер возвращает статус 200, в теле ответа — массив из одного элемента, содержащего корректный ID.



TC-04 Элемент появляется в списке продавца

Предусловие: Элемент успешно создан, его ID и ID продавца известны.

Шаги:

Отправить GET-запрос на /api/1/{seller\_id}/item, где {seller\_id} — ID продавца.

Ожидаемый результат: Сервер возвращает статус 200, в теле ответа — массив элементов, содержащий созданный элемент.



TC-05 Получение статистики по ID

Предусловие: Элемент успешно создан, его ID известен.

Шаги:

Отправить GET-запрос на /api/1/statistic/{id}, где {id} — ID элемента.

Ожидаемый результат: Сервер возвращает статус 200, в теле ответа — массив, первый элемент которого содержит поля likes, viewCount, contacts, значения которых больше 0.



TC-06 Статистика по API v1 и v2 идентична

Предусловие: Элемент успешно создан, его ID известен.

Шаги:

Отправить GET-запрос на /api/1/statistic/{id}.

Отправить GET-запрос на /api/2/statistic/{id}.

Сравнить значения полей likes и contacts из ответов.

Ожидаемый результат: Значения полей likes и contacts идентичны в обоих ответах.



TC-07 Удаление элемента

Предусловие: Элемент успешно создан, его ID известен.

Шаги:

Отправить DELETE-запрос на /api/2/item/{id}, где {id} — ID элемента.

Попробовать получить элемент по его ID с помощью GET-запроса на /api/1/item/{id}.

Ожидаемый результат: DELETE-запрос возвращает статус 200, повторный GET-запрос возвращает статус 404.



TC-08 Получение несуществующего элемента

Предусловие: Известен валидный URL сервера.

Шаги:

Отправить GET-запрос на /api/1/item/{fake\_id}, где {fake\_id} — заведомо несуществующий ID (например, 00000000-0000-0000-0000-000000000000).

Ожидаемый результат: Сервер возвращает статус 404.



TC-09 Создание элемента с некорректным sellerID

Предусловие: Известен валидный URL сервера.

Шаги:

Подготовить JSON-данные элемента с текстовым значением sellerID (например, "abc").

Отправить POST-запрос на /api/1/item с этими данными.

Ожидаемый результат: Сервер возвращает статус 400.



TC-10 Создание элемента без цены 

Предусловие: Известен валидный URL сервера и ID продавца.

Шаги:

Подготовить JSON-данные элемента без поля price.

Отправить POST-запрос на /api/1/item с этими данными.

Ожидаемый результат: Сервер возвращает статус 400.



TC-11 Отрицательная цена принимается и сохраняется

Предусловие: Известен валидный URL сервера и ID продавца.

Шаги:

Подготовить JSON-данные элемента с отрицательным значением price (например, -50).

Отправить POST-запрос на /api/1/item.

Извлечь ID из ответа.

Отправить GET-запрос на /api/1/item/{id} и проверить значение price.

Удалить созданный элемент.

Ожидаемый результат: POST-запрос возвращает 200, GET-запрос возвращает элемент с отрицательной ценой. Элемент успешно удаляется.



TC-12 Нулевое значение лайков не допускается

Предусловие: Известен валидный URL сервера и ID продавца.

Шаги:

Подготовить JSON-данные элемента с statistics.likes равным 0.

Отправить POST-запрос на /api/1/item.

Ожидаемый результат: Сервер возвращает статус 400.



TC-13 Длинное имя принимается и сохраняется

Предусловие: Известен валидный URL сервера и ID продавца.

Шаги:

Подготовить имя длиной 600 символов.

Подготовить JSON-данные элемента с этим именем.

Отправить POST-запрос на /api/1/item.

Извлечь ID из ответа.

Отправить GET-запрос на /api/1/item/{id} и проверить значение name.

Удалить созданный элемент.

Ожидаемый результат: POST-запрос возвращает 200, GET-запрос возвращает элемент с корректным длинным именем. Элемент успешно удаляется.



TC-14 Можно создать два идентичных элемента

Предусловие: Известен валидный URL сервера и ID продавца.

Шаги:

Подготовить JSON-данные элемента.

Дважды отправить POST-запрос на /api/1/item с одинаковыми данными.

Отправить GET-запрос на /api/1/{seller\_id}/item.

Подсчитать количество элементов с одинаковым именем.

Удалить созданные элементы.

Ожидаемый результат: Оба POST-запроса возвращают 200, в списке элементов продавца присутствует как минимум два элемента с одинаковыми данными. Элементы успешно удаляются.



TC-15 Новый продавец возвращает пустой список

Предусловие: Известен валидный URL сервера.

Шаги:

Подготовить заведомо несуществующий ID продавца (например, 99999999999).

Отправить GET-запрос на /api/1/{seller\_id}/item.

Ожидаемый результат: Сервер возвращает статус 200, тело ответа — пустой массив.



TC-16 Некорректный JSON в теле запроса возвращает 400

Предусловие: Известен валидный URL сервера.

Шаги:

Подготовить строку с некорректным JSON (например, {"name": Broken, ...}).

Отправить POST-запрос на /api/1/item с этой строкой в теле и заголовком Content-Type: application/json.

Ожидаемый результат: Сервер возвращает статус 400.

